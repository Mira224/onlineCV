<div class="container">
    <div class="row gtr-uniform">
<form action="/admin/searchuser" method="post">
        <div class="col-5 col-12-xsmall">
            <label class="label">Username</label>
            <div class="control">
                <input class="input" type="text" name="searchUsername" id="searchUsername" list="userlist">
                <datalist id="userlist">
                    <% allusers.forEach(function(u){%>
                        <option>
                            <%=u.username%>
                        </option>
                        <% })%>
                </datalist>
            </div>
        </div>


        <div class="col-5 col-12-xsmall">
            <label class="label">Email</label>
            <div class="control">
                <input class="input" type="text" name="searchEmail" id="searchEmail" list="emaillist">
                <datalist id="emaillist">
                    <% allusers.forEach(function(u){%>
                        <option>
                            <%=u.email%>
                        </option>
                        <% })%>
                </datalist>
            </div>

        </div>

      


        <div class="field">
            <div class="control">
                <button class="button is-info" type="submit">Search</button>
            </div>
        </div>
    </form>

        <div class="column">

            <div id="p2"></div>

        </div>


       
    </div>
  
    <!-- <script>
        async function fetchPage(limit, offset) {
            sUsername = document.getElementById("searchUsername").value;
            sEmail = document.getElementById("searchEmail").value;

            var response = await fetch('/admin/alluser?username=' + sUsername + '&email=' + sEmail + '&limit=' + limit + "&offset=" + offset);

            if (response.ok) {
                var users = await response.json();
                var dynamicCode = `<table class="table is-bordered is-striped is-hoverable is-fullwidth">
        <tr>
            <td>
                Username
            </td>
            <td>Email</td>
            <td>Role</td>
            <td></td>
        </tr> `;


                users.forEach(function (user) {
                    dynamicCode += `  
            <tr>
                <td>
                    ${user.username}
                   
                </td>
                <td>
                    ${user.email}
                  
                </td>
                <td>
                    ${user.role}
                  
                </td>
                <td>
                    <form action="/admin/${user.id}/delete" method="POST">
                        <button type="button" class="btn btn-danger">Delete</button>
                    </form>
                </td>
            </tr>}); `;
                });
                document.querySelector("#p2").innerHTML = dynamicCode + "</table>";
                setPagination(limit, offset, user.count);
            } else {
                alert(response.status + ": " + response.statusText);
            }
        };
        fetchPage(2, 0);
    </script> -->